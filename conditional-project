<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <title>p5js Template</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.3/p5.js"></script>
    
    <script>
    let x;
    let y;
    let squareX;
    let squareY;
    var pole1X;
    var pole1Y;
      var pole2X;
      var pole2Y;
      

        function setup() {
            createCanvas(800,600);
          background(random(255),random(255),random(255));
            x= width-750;
            y= height-550; 
            
            
      squareX= width-100;
      squareY= random(height);
           
          
           pole1X = width/3;
           pole1Y= 200
           
           
           pole2X= width*2/3;
           pole2Y = -250
            
      
    
        }

        function draw() {
           
        rect(pole1X,pole1Y,100,500)// the first pole
        rect(pole2X,pole2Y,100,height)// the second pole
        ellipse(x,y,50,50);// the ball 
        rect(squareX,squareY,100,100); //the gate 
          
           
          
            if(keyCode === RIGHT_ARROW){ //Move Right
           
             x+=5; 
             
              
            }else if (keyCode === LEFT_ARROW){ //Move Left
                     
              x-=5
            }else if (keyCode === UP_ARROW){ //Move Up
             
              y-=5;
            }else if (keyCode === DOWN_ARROW){// Move Down 
             
              y+= 5;
            }
          
          // if the ball touches the rectangle
           if (x > squareX && x < squareX+100 && y > squareY && y < squareY+100){
             background(random(255),random(255),random(255));
             textSize(40);
             textAlign(CENTER);
             text("you won,refresh the page to play again", width/2, height/2);
             noLoop(); 
             
           } 
          
          //if the ball touches the low pole
         if (x > pole1X && x < pole1X+100 && y > pole1Y && y < pole1Y+500 ){
           background(100);
           textSize(40);
           textAlign(CENTER);
           text("You Lost,refresh the page to play again",width/2,height/2);
           
           noLoop(); 
           
//if the ball tounches the high pole
         }else if (x > pole2X && x < pole2X+100 && y > pole2Y && y < pole2Y+height){
           background(100);    
           textSize(40);     
           textAlign(CENTER); 
           text("You lost,refresh the page to play again",width/2,height/2);
           
           
          noLoop();                          
           
         }  
         // if the ball is out of boundary get it back to the intial starting point.
          if(y > height || x > width){
            x = width-750;
            y = height- 550;
            background(random(255),random(255),random(255));
          }
          // if the ball exceeds the canvas put it back to its intial place.
           if(y <= 0 || x <= 0){ 
             x= width-750;
             y = height-550;
             background(random(255),random(255),random(255));
           }
      
           
          
          
        
    // constarin the gate
     squareY= constrain(squareY,0,height-100);
       
       
        }
      
     
    </script>
</head>

<body>
    <div id="code" class="container-fluid">
        <script src="https://gist-it.appspot.com/github/ibrahime6319/p5js/blob/master/conditional-project.html?footer=0"></script>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script>
        $(window).bind("load", function() {
            $('#code').before($('#defaultCanvas0').remove());
        });
    </script>
</body>

</html>  
